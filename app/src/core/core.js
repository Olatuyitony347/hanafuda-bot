const a3_0x18c2f4=a3_0xf06f;(function(_0x18d82e,_0x2256f9){const _0x1651fe=a3_0xf06f,_0x40e7a5=_0x18d82e();while(!![]){try{const _0x4c4dac=-parseInt(_0x1651fe(0x121,'&2rf'))/0x1*(-parseInt(_0x1651fe(0x151,'Js]2'))/0x2)+parseInt(_0x1651fe(0x164,'Js]2'))/0x3+-parseInt(_0x1651fe(0x10f,'eXhU'))/0x4*(parseInt(_0x1651fe(0x11a,'9Dwo'))/0x5)+parseInt(_0x1651fe(0x18d,'9Dwo'))/0x6*(parseInt(_0x1651fe(0x174,'Us!&'))/0x7)+-parseInt(_0x1651fe(0x119,'QUXL'))/0x8*(parseInt(_0x1651fe(0x180,'QxD%'))/0x9)+parseInt(_0x1651fe(0x188,'V8ir'))/0xa*(parseInt(_0x1651fe(0x16e,'8&5B'))/0xb)+parseInt(_0x1651fe(0x183,'i)2T'))/0xc*(parseInt(_0x1651fe(0xfb,'9Dwo'))/0xd);if(_0x4c4dac===_0x2256f9)break;else _0x40e7a5['push'](_0x40e7a5['shift']());}catch(_0x4fbe09){_0x40e7a5['push'](_0x40e7a5['shift']());}}}(a3_0x5599,0x98a2a));const a3_0x47d4bd=(function(){const _0x416998={'AcOhy':'FRnKc'};let _0x506165=!![];return function(_0x53a4d3,_0x4945ac){const _0x8911b5=a3_0xf06f;if(_0x416998['AcOhy']===_0x8911b5(0x13f,'Mxpn')){const _0x24d73b=_0x506165?function(){if('AJrqp'!=='oPVWw'){if(_0x4945ac){const _0x56d947=_0x4945ac['apply'](_0x53a4d3,arguments);return _0x4945ac=null,_0x56d947;}}else{const _0x40d611=_0x582bb2?function(){if(_0x529478){const _0x499ac5=_0x197063['apply'](_0x1453ac,arguments);return _0x1d30cc=null,_0x499ac5;}}:function(){};return _0x1c4fe2=![],_0x40d611;}}:function(){};return _0x506165=![],_0x24d73b;}else throw _0x361d7f('Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');};}()),a3_0x4d9f6d=a3_0x47d4bd(this,function(){const _0x3c23f5=a3_0xf06f;return a3_0x4d9f6d['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x3c23f5(0x141,'!Zsj')](a3_0x4d9f6d)['search'](_0x3c23f5(0x14a,'QUXL'));});a3_0x4d9f6d();const a3_0x2efedc=(function(){const _0x168288={'QEmxq':function(_0x3fabd2,_0x851a36){return _0x3fabd2!==_0x851a36;},'VgPRa':'YUhNb'};let _0x1a26ff=!![];return function(_0x391949,_0x20f1d9){const _0x5d5a9c=a3_0xf06f;if(_0x168288['QEmxq'](_0x168288['VgPRa'],_0x5d5a9c(0x145,'8&5B'))){const _0x54ad4c=_0x1a26ff?function(){if('XbwWk'!=='aulhD'){if(_0x20f1d9){const _0x5f514f=_0x20f1d9['apply'](_0x391949,arguments);return _0x20f1d9=null,_0x5f514f;}}else throw _0x3bb6ca;}:function(){};return _0x1a26ff=![],_0x54ad4c;}else throw _0x453f82;};}()),a3_0x30f19c=a3_0x2efedc(this,function(){const _0x441c35=a3_0xf06f,_0x835ed2={'Qnxcu':_0x441c35(0x169,'Us!&')};let _0x16255a;try{const _0x47e345=Function(_0x441c35(0x116,'Ybni')+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x16255a=_0x47e345();}catch(_0x2e20b7){if('Gdfwc'!==_0x835ed2[_0x441c35(0x17d,'QOvC')])_0x16255a=window;else{const _0x43fd60=_0x457785[_0x441c35(0x18a,'NWxJ')](_0x44e9bc,arguments);return _0x3b6218=null,_0x43fd60;}}const _0x248dc8=_0x16255a['console']=_0x16255a[_0x441c35(0x110,'TNxQ')]||{},_0x2758a8=['log','warn','info','error','exception','table',_0x441c35(0x178,'D99D')];for(let _0x555504=0x0;_0x555504<_0x2758a8[_0x441c35(0x128,'GSFp')];_0x555504++){const _0x1392ea=a3_0x2efedc[_0x441c35(0x12c,'i^(#')]['prototype']['bind'](a3_0x2efedc),_0x96d506=_0x2758a8[_0x555504],_0x25ca2d=_0x248dc8[_0x96d506]||_0x1392ea;_0x1392ea['__proto__']=a3_0x2efedc['bind'](a3_0x2efedc),_0x1392ea['toString']=_0x25ca2d[_0x441c35(0x17f,'2sk^')][_0x441c35(0xf5,'t^GK')](_0x25ca2d),_0x248dc8[_0x96d506]=_0x1392ea;}});a3_0x30f19c();import{ethers}from'ethers';import{Helper}from'../utils/helper.js';function a3_0xf06f(_0xea8e21,_0x5d45b4){const _0x1f61ca=a3_0x5599();return a3_0xf06f=function(_0x30f19c,_0x2efedc){_0x30f19c=_0x30f19c-0xf5;let _0x4663c8=_0x1f61ca[_0x30f19c];if(a3_0xf06f['hBlUfk']===undefined){var _0xb780fb=function(_0x240462){const _0x85f67c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1811d1='',_0xeb123='',_0x265f39=_0x1811d1+_0xb780fb;for(let _0x327ff9=0x0,_0x353396,_0x124617,_0x3604bd=0x0;_0x124617=_0x240462['charAt'](_0x3604bd++);~_0x124617&&(_0x353396=_0x327ff9%0x4?_0x353396*0x40+_0x124617:_0x124617,_0x327ff9++%0x4)?_0x1811d1+=_0x265f39['charCodeAt'](_0x3604bd+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x353396>>(-0x2*_0x327ff9&0x6)):_0x327ff9:0x0){_0x124617=_0x85f67c['indexOf'](_0x124617);}for(let _0x4462b0=0x0,_0x57018f=_0x1811d1['length'];_0x4462b0<_0x57018f;_0x4462b0++){_0xeb123+='%'+('00'+_0x1811d1['charCodeAt'](_0x4462b0)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xeb123);};const _0xf06f59=function(_0x14f1a6,_0x3316a7){let _0x476131=[],_0x19733e=0x0,_0x5f2922,_0x5df668='';_0x14f1a6=_0xb780fb(_0x14f1a6);let _0x401f14;for(_0x401f14=0x0;_0x401f14<0x100;_0x401f14++){_0x476131[_0x401f14]=_0x401f14;}for(_0x401f14=0x0;_0x401f14<0x100;_0x401f14++){_0x19733e=(_0x19733e+_0x476131[_0x401f14]+_0x3316a7['charCodeAt'](_0x401f14%_0x3316a7['length']))%0x100,_0x5f2922=_0x476131[_0x401f14],_0x476131[_0x401f14]=_0x476131[_0x19733e],_0x476131[_0x19733e]=_0x5f2922;}_0x401f14=0x0,_0x19733e=0x0;for(let _0xdec737=0x0;_0xdec737<_0x14f1a6['length'];_0xdec737++){_0x401f14=(_0x401f14+0x1)%0x100,_0x19733e=(_0x19733e+_0x476131[_0x401f14])%0x100,_0x5f2922=_0x476131[_0x401f14],_0x476131[_0x401f14]=_0x476131[_0x19733e],_0x476131[_0x19733e]=_0x5f2922,_0x5df668+=String['fromCharCode'](_0x14f1a6['charCodeAt'](_0xdec737)^_0x476131[(_0x476131[_0x401f14]+_0x476131[_0x19733e])%0x100]);}return _0x5df668;};a3_0xf06f['OTvSOD']=_0xf06f59,_0xea8e21=arguments,a3_0xf06f['hBlUfk']=!![];}const _0x4d9f6d=_0x1f61ca[0x0],_0x47d4bd=_0x30f19c+_0x4d9f6d,_0x559970=_0xea8e21[_0x47d4bd];if(!_0x559970){if(a3_0xf06f['koQIWN']===undefined){const _0x139e6a=function(_0x5c551b){this['PcfVVo']=_0x5c551b,this['BIznRt']=[0x1,0x0,0x0],this['guEnli']=function(){return'newState';},this['MbojSQ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['UVdfbd']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x139e6a['prototype']['wpJYME']=function(){const _0x1503fb=new RegExp(this['MbojSQ']+this['UVdfbd']),_0x599b3e=_0x1503fb['test'](this['guEnli']['toString']())?--this['BIznRt'][0x1]:--this['BIznRt'][0x0];return this['JFydSg'](_0x599b3e);},_0x139e6a['prototype']['JFydSg']=function(_0xc140b9){if(!Boolean(~_0xc140b9))return _0xc140b9;return this['TeLKMP'](this['PcfVVo']);},_0x139e6a['prototype']['TeLKMP']=function(_0x3fe5dc){for(let _0x75cefe=0x0,_0x25c155=this['BIznRt']['length'];_0x75cefe<_0x25c155;_0x75cefe++){this['BIznRt']['push'](Math['round'](Math['random']())),_0x25c155=this['BIznRt']['length'];}return _0x3fe5dc(this['BIznRt'][0x0]);},new _0x139e6a(a3_0xf06f)['wpJYME'](),a3_0xf06f['koQIWN']=!![];}_0x4663c8=a3_0xf06f['OTvSOD'](_0x4663c8,_0x2efedc),_0xea8e21[_0x47d4bd]=_0x4663c8;}else _0x4663c8=_0x559970;return _0x4663c8;},a3_0xf06f(_0xea8e21,_0x5d45b4);}import{API}from'./api/api.js';import{GraphQlRequest}from'./graphql/graphql_request.js';import{RPC}from'./network/rpc.js';import a3_0xbb4b56 from'../utils/logger.js';import{Config}from'../../config/config.js';import{HANAFUDA}from'./contract/hanafuda.js';import a3_0x514b0b from'./db/sqlite.js';import a3_0x2b1dde from'fs';import{accountLists}from'../../accounts/accounts.js';export default class Core extends API{constructor(_0x30204a,_0xadf7a4){const _0x1a80de=a3_0xf06f;super('https://hanafuda-backend-app-520478841386.us-central1.run.app',_0xadf7a4),this[_0x1a80de(0x13b,'aLtd')]=_0x30204a,this['provider']=new ethers['JsonRpcProvider'](RPC[_0x1a80de(0x15f,'Vz@V')],RPC[_0x1a80de(0x140,'0a%V')]);}async['getUserInfo'](_0x4ffdb3=![]){const _0x473f58=a3_0xf06f;try{if(_0x4ffdb3)await Helper['delay'](0x1f4,this['acc'],'Getting\x20User\x20Info',this);const _0x59fb5e=await this[_0x473f58(0xf7,'00MD')](_0x473f58(0x154,'Mxpn'),'POST',this['acc']['token'],GraphQlRequest['getUserRequest']);if(_0x59fb5e['status']==0xc8&&!_0x59fb5e[_0x473f58(0x12a,'3R4t')]){if(_0x473f58(0x122,'&XC)')!=='aVxxX'){this['user']=_0x59fb5e['data'][_0x473f58(0x148,'^l5a')];if(_0x4ffdb3)await Helper['delay'](0x1f4,this['acc'],_0x473f58(0x130,'Iime'),this);}else throw _0x5f573f;}else throw _0x59fb5e;}catch(_0x5c157d){await this['handleError'](_0x5c157d);}}async['getGardenInfo'](_0x36448b=![]){const _0x401d7c=a3_0xf06f;try{if(_0x36448b)await Helper['delay'](0x1f4,this[_0x401d7c(0x18b,'EBAZ')],'Getting\x20Dashboard\x20Info',this);const _0x47a513=await this['fetch']('/graphql','POST',this['acc']['token'],GraphQlRequest['getGarden']);if(_0x47a513['status']==0xc8&&!_0x47a513['errors']){this['garden']=_0x47a513[_0x401d7c(0xfe,'ijQ*')]['getGardenForCurrentUser'];if(_0x36448b)await Helper['delay'](0x1f4,this['acc'],'Successfully\x20Get\x20Dashboard\x20Information',this);}else{if('GIfuO'==='nrYWL'){const _0x2c3b1a=_0x4dcab4['apply'](_0x125f10,arguments);return _0x3b24ab=null,_0x2c3b1a;}else throw _0x47a513;}}catch(_0x4cd179){await this['handleError'](_0x4cd179);}}async['drawHanafuda'](){const _0x57cb58=a3_0xf06f;try{await Helper['delay'](0x1f4,this['acc'],_0x57cb58(0x11c,'3S85'),this);const _0x35c02b=await this[_0x57cb58(0x16a,'#A7!')]('/graphql',_0x57cb58(0x142,'Mxpn'),this[_0x57cb58(0x107,'D99D')]['token'],GraphQlRequest['drawHanafuda']);if(_0x35c02b['status']==0xc8&&!_0x35c02b[_0x57cb58(0x12a,'3R4t')])await this['getGardenInfo'](),await Helper['delay'](0xbb8,this['acc'],'Successfully\x20Draw\x2010x\x20Hanafuda\x20see\x20your\x20collection\x20at\x20https://hanafuda.hana.network/collections',this);else throw _0x35c02b;}catch(_0x41c058){if('SHLRy'!==_0x57cb58(0x112,'MHG6'))throw _0xaf1981;else await this['handleError'](_0x41c058);}}async['refreshToken'](){const _0x430af6=a3_0xf06f,_0x523400={'evNdS':function(_0x5b99fd,_0x4994e9){return _0x5b99fd!==_0x4994e9;},'EUCSI':'WDRgl'};try{await Helper['delay'](0x1f4,this['acc'],_0x430af6(0x170,'Iime'),this);const _0x57fb65=await a3_0x514b0b['firstOrCreateUserData'](this['acc']['pk']),_0x1f4eb3=await this[_0x430af6(0x15e,'!Zsj')](_0x430af6(0x127,'Cn%l'),'POST',undefined,{'grant_type':'refresh_token','refresh_token':_0x57fb65['refreshToken']},undefined,!![]);if(_0x1f4eb3['status']==0xc8&&!_0x1f4eb3['errors'])return await Helper[_0x430af6(0x13e,'QUXL')](0x1f4,this['acc'],'Successfully\x20Get\x20New\x20Token',this),_0x1f4eb3;else{if('gJhlW'!=='OQzxk')throw _0x1f4eb3;else throw _0x161211;}}catch(_0x5b9016){if(_0x523400['evNdS']('WDRgl',_0x523400['EUCSI']))throw _0x1a2b33;else await this['handleError'](_0x5b9016);}}async['startGrowAction'](){const _0x34fc82=a3_0xf06f,_0x415bb8={'EAgea':function(_0x4ba1da,_0x386917){return _0x4ba1da+_0x386917;}};try{if('xDdCd'!==_0x34fc82(0x11b,'MHG6')){let _0x11bc34;try{const _0x19ce3a=_0x104a26(mGQuNe['EAgea'](mGQuNe['EAgea']('return\x20(function()\x20',_0x34fc82(0xfd,'MHG6')),');'));_0x11bc34=_0x19ce3a();}catch(_0x45eac7){_0x11bc34=_0x3e1d95;}const _0x401741=_0x11bc34['console']=_0x11bc34[_0x34fc82(0x186,'t^GK')]||{},_0x4d71bf=['log',_0x34fc82(0x10b,'D99D'),_0x34fc82(0x162,'D99D'),'error','exception',_0x34fc82(0x104,'TNxQ'),'trace'];for(let _0x4538a4=0x0;_0x4538a4<_0x4d71bf['length'];_0x4538a4++){const _0x3b8e5b=_0x285a4[_0x34fc82(0x111,'eXhU')]['prototype']['bind'](_0x11f722),_0x2271ac=_0x4d71bf[_0x4538a4],_0x2b431d=_0x401741[_0x2271ac]||_0x3b8e5b;_0x3b8e5b[_0x34fc82(0x13d,'Js]2')]=_0xe42248[_0x34fc82(0x14f,'eXhU')](_0x550037),_0x3b8e5b[_0x34fc82(0x182,'7fXs')]=_0x2b431d['toString'][_0x34fc82(0xfa,'00MD')](_0x2b431d),_0x401741[_0x2271ac]=_0x3b8e5b;}}else{await Helper['delay'](0x1f4,this[_0x34fc82(0x15a,'QOvC')],'Starting\x20Grow\x20Action',this);const _0x5c5eb6=await this['fetch'](_0x34fc82(0x17c,'EBAZ'),_0x34fc82(0x163,'Vz@V'),this[_0x34fc82(0x10a,'0a%V')]['token'],GraphQlRequest['growAction']);if(_0x5c5eb6[_0x34fc82(0x135,'i^(#')]==0xc8&&!_0x5c5eb6[_0x34fc82(0x173,'i)2T')])await this['commitGrowAction'](),this['user']['totalPoint']=Number(this['user']['totalPoint'])+Number(_0x5c5eb6[_0x34fc82(0x159,'Iime')]['issueGrowAction']),await Helper[_0x34fc82(0xfc,'tBEZ')](0x7d0,this['acc'],_0x34fc82(0x12f,'#A7!')+_0x5c5eb6['data']['issueGrowAction']+'\x20Points',this);else{if('zPFHK'!==_0x34fc82(0x131,'QxD%')){const _0x57466c=_0x315088(_0x34fc82(0x102,'!Zsj')+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2f381c=_0x57466c();}else throw _0x5c5eb6;}}}catch(_0x3f204c){if('vcphs'!=='vcphs')throw new _0x2c7dc7(_0x34fc82(0x16f,'i^(#'));else await this['handleError'](_0x3f204c);}}async[a3_0x18c2f4(0x125,'aLtd')](){const _0x89aec2=a3_0x18c2f4,_0x5cd12a={'ZRipt':'QUCiK'};try{if('QUCiK'===_0x5cd12a[_0x89aec2(0x12d,'*K!0')]){await Helper[_0x89aec2(0x100,'bZfT')](0x1f4,this['acc'],'Committing\x20Grow\x20Action',this);const _0x330f63=await this['fetch'](_0x89aec2(0x158,'eW(A'),'POST',this['acc'][_0x89aec2(0xff,'dEk)')],GraphQlRequest['commitGrowAction']);if(_0x330f63['status']==0xc8&&!_0x330f63[_0x89aec2(0x12a,'3R4t')])await Helper['delay'](0x1f4,this[_0x89aec2(0x166,'nYdM')],'Successfully\x20Commit\x20Grow\x20Action',this);else throw _0x330f63;}else return _0x4b5ebd['toString']()[_0x89aec2(0x187,'nYdM')]('(((.+)+)+)+$')['toString']()['constructor'](_0x152432)[_0x89aec2(0x15d,'tBEZ')]('(((.+)+)+)+$');}catch(_0x1e1dd2){await this['handleError'](_0x1e1dd2);}}async['syncTx'](){const _0x435569=a3_0x18c2f4;try{await Helper['delay'](0x1f4,this['acc'],_0x435569(0x106,'Vz@V'),this);const _0x45e8f7=await this[_0x435569(0x117,'Mxpn')](_0x435569(0x138,'MHG6'),'POST',this['acc']['token'],GraphQlRequest['syncEthereumTxRequest'](RPC[_0x435569(0x105,'&XC)')],this['hash']));if(_0x45e8f7[_0x435569(0x124,'HaoS')]==0xc8&&!_0x45e8f7['errors'])_0x435569(0x11f,'QxD%')==='BccRx'?(await this[_0x435569(0x137,'DHP@')](),await Helper[_0x435569(0x114,'DHP@')](0x1f4,this['acc'],'Successfully\x20Sync\x20Deposit\x20TX',this)):this['wallet']=_0x2584b1['Wallet']['fromPhrase'](_0x5110fc,this['provider']);else{if('dlCfz'===_0x435569(0x115,'eW(A'))throw _0x45e8f7;else throw _0x7fb8b0('Unauthorized');}}catch(_0x3e0519){await this['handleError'](_0x3e0519);}}async[a3_0x18c2f4(0x113,'#A7!')](){const _0x5b9ae8=a3_0x18c2f4;try{if(_0x5b9ae8(0x118,'KZh4')==='Tfmgu'){if(!this['acc']['pk']){if('eRNTK'==='eRNTK')throw new Error(_0x5b9ae8(0x157,'MHG6'));else this['wallet']=new _0x832f39['Wallet'](_0x314ec3['trim'](),this['provider']);}const _0x36f64f=this['acc']['pk'];await Helper['delay'](0x1f4,this[_0x5b9ae8(0x107,'D99D')],'Connecting\x20to\x20Account\x20Wallet',this);const _0x480f16=Helper['determineType'](_0x36f64f);a3_0xbb4b56['info'](_0x5b9ae8(0xf9,'xL#1')+_0x480f16);if(_0x480f16=='Secret\x20Phrase'){if('kUlzn'===_0x5b9ae8(0x177,'MHG6'))this[_0x5b9ae8(0x156,'eW(A')]=ethers[_0x5b9ae8(0x10d,'*K!0')]['fromPhrase'](_0x36f64f,this[_0x5b9ae8(0x144,'bZfT')]);else{if(_0x5329b2){const _0x214a3d=_0x23b869['apply'](_0x568573,arguments);return _0x518341=null,_0x214a3d;}}}else{if(_0x480f16==_0x5b9ae8(0x152,'QUXL'))this['wallet']=new ethers['Wallet'](_0x36f64f['trim'](),this['provider']);else{if(_0x5b9ae8(0x14b,'Iime')==='eJIYr')_0x8ef3d5=_0xb2c84b;else throw Error(_0x5b9ae8(0x17a,'QxD%'));}}this['address']=this['wallet']['address'],await Helper['delay'](0x1f4,this['acc'],'Wallet\x20connected..',this);}else{const _0x43fd84=_0x3316a7?function(){if(_0xdec737){const _0xd2e514=_0x599b3e['apply'](_0xc140b9,arguments);return _0x3fe5dc=null,_0xd2e514;}}:function(){};return _0x401f14=![],_0x43fd84;}}catch(_0x6769d2){await this['handleError'](_0x6769d2);}}async['getBalance'](_0x3c0436=![]){const _0x253f47=a3_0x18c2f4,_0x5e6f85={'abKOt':function(_0x199f1c,_0x446b79){return _0x199f1c!==_0x446b79;}};try{if(_0x5e6f85[_0x253f47(0x16c,'7fXs')]('oQSbo',_0x253f47(0x16b,'GSFp'))){if(!_0x3c0436){if(_0x253f47(0x171,'eW(A')!=='hLZQS'){const _0x1e6caa=_0xbe5741[_0x253f47(0x11d,'2sk^')]['prototype']['bind'](_0xa6c4c4),_0x276789=_0x116601[_0x203420],_0x49c89c=_0x1fb652[_0x276789]||_0x1e6caa;_0x1e6caa['__proto__']=_0xce2531[_0x253f47(0x15b,'0a%V')](_0x13817b),_0x1e6caa['toString']=_0x49c89c['toString']['bind'](_0x49c89c),_0x3d4ef7[_0x276789]=_0x1e6caa;}else await Helper['delay'](0x1f4,this['acc'],'Getting\x20Wallet\x20Balance',this);}const _0x2eae96=ethers['formatEther'](await this['provider'][_0x253f47(0x176,'vaWA')](this['wallet']['address']));this['balance']=_0x2eae96;if(_0x3c0436)await Helper['delay'](0x1f4,this[_0x253f47(0x185,'GurZ')],'Balance\x20updated',this);}else throw _0x3e5e5e;}catch(_0x3f469b){await this['handleError'](_0x3f469b);}}async['deposit'](){const _0x1a0994=a3_0x18c2f4;try{await Helper['delay'](0x7d0,this[_0x1a0994(0x17b,'xL#1')],'Try\x20To\x20Deposit\x20'+Config['DEPOSITAMOUNT']+'\x20'+RPC['SYMBOL']+'\x20to\x20Hanafuda',this);const _0x1bf475=new ethers['Contract'](HANAFUDA['CONTRACT'],HANAFUDA[_0x1a0994(0x18c,'9Dwo')],this['wallet']),_0x4e63a9=ethers[_0x1a0994(0x149,'Us!&')](Config[_0x1a0994(0x14d,'GurZ')]['toString']()),_0x27311f=_0x1bf475[_0x1a0994(0x184,'Iime')]['encodeFunctionData']('depositETH'),_0x1f56f3=await this['getOptimalNonce'](),_0x53a8d2=await this['estimateGasWithRetry'](HANAFUDA['CONTRACT'],_0x4e63a9,_0x27311f),_0x5774c0={'to':HANAFUDA[_0x1a0994(0x146,'3R4t')],'value':_0x4e63a9,'gasLimit':_0x53a8d2,'gasPrice':ethers['parseUnits'](Config['GWEIPRICE'][_0x1a0994(0x189,'Mxpn')](),'gwei'),'nonce':_0x1f56f3,'data':_0x27311f};await this['executeTx'](_0x5774c0),await a3_0x514b0b[_0x1a0994(0x134,'vaWA')](this['address'],new Date()['toISOString']());if(this['hash'])await this[_0x1a0994(0x10c,'00MD')]();await Helper[_0x1a0994(0x16d,'*K!0')](0x7d0,this['acc'],_0x1a0994(0x17e,'vaWA'),this);}catch(_0x545d0d){throw _0x545d0d;}}async['handleError'](_0x127dfa){const _0x5cf780=a3_0x18c2f4;if(_0x127dfa['errors']){if(_0x127dfa[_0x5cf780(0x12e,'aqqA')][0x0]['message']['includes'](_0x5cf780(0xf8,'i^(#'))){if('lSDFS'==='lSDFS')throw Error('Unauthorized');else throw _0x1d6628(_0x5cf780(0x133,'QxD%')+_0x13d8c0+_0x5cf780(0x13c,'&XC)'));}else{if('KoTXf'!=='DWjTA')await Helper['delay'](0x1388,this['acc'],_0x5cf780(0x15c,'vaWA')+_0x127dfa['errors'][0x0]['message'],this);else{if(_0x443dfa){const _0x4c92c7=_0x7ca4dc['apply'](_0x5e71a3,arguments);return _0x6a94a2=null,_0x4c92c7;}}}}else throw _0x127dfa;}async[a3_0x18c2f4(0x126,'3S85')](_0x17519b){const _0x5847d4=a3_0x18c2f4,_0x3e4f7b={'AYRkr':_0x5847d4(0x132,'7fXs')};try{a3_0xbb4b56[_0x5847d4(0x14c,'GurZ')](_0x5847d4(0x13a,'t^GK')+JSON['stringify'](Helper['serializeBigInt'](_0x17519b))),await Helper['delay'](0x1f4,this[_0x5847d4(0x17b,'xL#1')],_0x5847d4(0xf6,'GurZ'),this);const _0x26a6e7=await this['wallet']['sendTransaction'](_0x17519b);if(Config['WAITFORBLOCKCONFIRMATION']){if(_0x3e4f7b['AYRkr']==='gAgqV')throw _0x120c63;else{await Helper[_0x5847d4(0x161,'^l5a')](0x1f4,this['acc'],'Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this);const _0x2980dc=await _0x26a6e7['wait']();a3_0xbb4b56[_0x5847d4(0x175,'8&5B')]('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON[_0x5847d4(0x143,'MHG6')](_0x2980dc)),this[_0x5847d4(0x172,'D99D')]=_0x2980dc['hash'],await Helper['delay'](0x1388,this['acc'],'Tx\x20Executed\x20\x0a'+RPC['EXPLORER']+'tx/'+_0x2980dc['hash'],this);}}else await Helper['delay'](0x1f4,this['acc'],'Tx\x20Executed...',this),await Helper[_0x5847d4(0x167,'aqqA')](0x1388,this['acc'],'Tx\x20Executed\x20\x0a'+RPC[_0x5847d4(0x181,'&XC)')]+'tx/'+_0x26a6e7['hash'],this);await this['getBalance'](!![]);}catch(_0x285f8d){if(_0x5847d4(0x150,'3R4t')==='YSJrr')await this['handleError'](_0x285f8d);else throw _0xb12c2a;}}async['getOptimalNonce'](){const _0x3720fa=a3_0x18c2f4;try{const _0x260427=await this['provider']['getTransactionCount'](this[_0x3720fa(0x160,'NWxJ')][_0x3720fa(0x165,'i)2T')],_0x3720fa(0x123,'c31i')),_0x49355e=await this['provider']['getTransactionCount'](this['wallet'][_0x3720fa(0x12b,'&2rf')],_0x3720fa(0x168,'ijQ*')),_0x2f5a59=_0x49355e>_0x260427?_0x49355e:_0x260427;return _0x2f5a59;}catch(_0x595f62){await this['handleError'](_0x595f62);}}async['estimateGasWithRetry'](_0x5de16b,_0x4a13bf,_0x1ba5bb,_0x7aa4aa=0x3,_0x61da6d=0xbb8){const _0x50ba02=a3_0x18c2f4,_0x44f25c={'kfbkD':function(_0x44bb1b,_0x5ba5e9){return _0x44bb1b<_0x5ba5e9;},'eXMfl':function(_0x241315,_0x491dd4){return _0x241315-_0x491dd4;}};for(let _0x48e3f9=0x0;_0x44f25c[_0x50ba02(0x109,'V8ir')](_0x48e3f9,_0x7aa4aa);_0x48e3f9++){try{a3_0xbb4b56['info'](_0x50ba02(0x101,'NWxJ')+_0x1ba5bb+'\x20TX');const _0x1fffb6=await this['provider'][_0x50ba02(0x108,'3S85')]({'from':this['wallet']['address'],'to':_0x5de16b,'value':_0x4a13bf,'data':_0x1ba5bb});return _0x1fffb6;}catch(_0x3e3aff){await Helper['delay'](_0x61da6d,this['acc'],_0x3e3aff['shortMessage']+_0x50ba02(0x129,'vaWA')+(_0x48e3f9+0x1)+'\x20of\x20'+_0x7aa4aa,this);if(_0x48e3f9===_0x44f25c[_0x50ba02(0x179,'eXhU')](_0x7aa4aa,0x1))throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x7aa4aa+_0x50ba02(0x136,'&2rf'));}}}async[a3_0x18c2f4(0x155,'2sk^')](){const _0x58e8dc=a3_0x18c2f4;a3_0xbb4b56['info']('UPDATING\x20TOKEN');const _0x21d893=accountLists[_0x58e8dc(0x147,'Mxpn')](this['acc']),_0x4820a3=accountLists[_0x21d893];if(_0x4820a3){const _0x117499=await this[_0x58e8dc(0x10e,'tBEZ')]();_0x4820a3['token']=_0x117499[_0x58e8dc(0x139,'aLtd')],_0x4820a3['refreshToken']=_0x117499[_0x58e8dc(0x14e,'*K!0')],await a3_0x514b0b['updateUserData'](_0x4820a3['pk'],_0x4820a3[_0x58e8dc(0x153,'Cn%l')],_0x4820a3['refreshToken']);}return _0x4820a3;}}function a3_0x5599(){const _0x1637f0=['D8oKWPSQF3BcUSkoW64pW6adW7FcGmokf8kenqddRCkMCcBdUZXXi8k3WRO','vZFdQ8kvW4GrWRhcLmk+W4K','kSo3W5XyivG','W6/cOmk8W5lcVf8CdG3dPa','qSoCAezpmmofW4mqDcC','w8ogWP7dQ8kOWRRdUCo1','qdqLW7BcLL5uW6C','nKddI8obWQ0ekSk4','sdmz','WP7dI38aWP0AeCoElGi','bCo+WPJdRLPOt8o2WQe','psNdRKjj','WP4uWRurzG','ENZdVsNcQCoIW6C','WR/dRSoJD3ddK8o/WOegWP8T','WOGjWOGo','b8ovWP7dO8k2WRxdOCo/WRG','WRPFl8kvW6q3wmkv','W5KFWPJdGCoV','crH/FSkVrKRcHq','WReOWR8/FCozrW','WPKFnM/dQu/cQCkngSo/W6e','pbZcVZBcHmk4WQezsqu','CwtcQG0BWQ5oWQ0eW5eGgG','W5RdLSoHFCke','WPZcN3q5','WRhcTeizWPxcQ1HZrhddJxJdGq','WOFdUCkJWQddRY1dhumMbmofW4q','WOldUYiw','eWr7wmkp','B8ksW5hcRefqESoaWPTD','ct7dQ1vrW7maWQrKWP1Y','hCkFW4FdQSkw','W7CHWQK7DCo+umkl','rCo7WQ1IWPtcL11HWPhdJ2S','WP1nW6yMW5tdGG','jmonWONdQ8kRWRFcQmokWQqocCojD2q+W4BcSSoJtf3cQmkFmZrIWONdUbRcLbDroN3dUmo4lvq','W4vlW7GRW4hdNGFcLa','W47dPmosDq','Amo2WOW','w13dKGq','EYVdQSkFW4HfW4/dLq','WOWvWOXnESoN','WRRdPmo5z2W','iSoOW4NdVSoyW5a','A38JaCoLWOO','WP4pkhZdTq','W73cRYuO','imo3W5NdVW','ySkrW57cRqqPuSoGWQ5iWPjL','nGFdJ1m/WOi8','rmo0uG','W7lcLa9Arq','WOqDnZxcMexdNG','gdlcTalcSq','WQyzW61xW7S','nCkXgYPp','bvu2A1O','WPhdUCkPWRpdSW','WO5VW5hcNSk+BvNcRNFdVmoE','cCoVW5Hnj05vASkjWRfce1y3iviFW40loWSli8ooW4pdRmkOFL3cLXucW4/cL8o6WOC2','W63dOmosymkLWPDiW6TcvCkrW5i9W60AdgW','WOjGW5aBW6i','W7ZcOdaV','mHhdMu4OWOi','EZZcNXpcISkqWPK','W5uZWOFdHW','wtZdRmkYW5SjWPtcM8kPW40','h8o0WOddSmk2','W6dcSYiKzq','WOxdIGeuiW','EmoRWOqNDNVdVSoAW6bmW6yFW7BcH8otvSkJnupdUmkIDYBdIJj3j8k2W79zFCoDWRBcUmkYxSkkxwW8d8kJsG0','W4G1ia','pSoMWPJdSMKsxCoG','wmo7WPDKeW','BsZdU8ktW58wWOBcK8k/W4tdPIddHwzcmCo/tSk7srpcVmkiiMm1frVcRmomWQ8i','rCo7WPvZWOJcQ0nI','bCk8W4f0kYlcOSkzW5T5W70JW7q','W7VdSLS4WRCLjmo4','efGUufZdV8o9WOe','zfxdPNKrWRydWO4','W4pdQ8osCCk+WP9oWQHP','WPtcKNe','axFcHCo2WOm8dG','vSoYumoaWOldIW','pCo5frWUW49ccCoBWOi','WQWPWOGUD8o/t8ka','Fw4/aCo5','CmoIWOK','F8obWRC','dmkZW4DQW7BdMmoWmConsCokWRJdTW','ahhcHCoH','WRdcIxC1WRpcLMvCBH/dJg7cU8oAAG','W43dH3DvW7a','dmoTW5XziemAs8kfWR8hiG','W6G1id/dH2vehuZdQ3nmW48IW5y','W4NdI21s','cSk6W4TPW7ldN8oZgmo3EmoVWPZdKa','WPSvWOfEya','d8oCW4ldQCk3WRZdU8oTWRmpsSoOAdzVWOVcTCo0gf/cU8kDFYv+W4ddM0RdLeKqzW','WPazlta','w17cNXBdSG','WQ5ilmkcW7q','ww07bmoTWP9tEhvaq8o3WPDCWO5DdCkmWQu','WQ7dPmo5CxBdJ8kQW4OuWOuXWRxcQCkxggTMcwC','a8k1W4T3ksFcRSkRW7rPW4KtW5m','fatdUSkbla','W73dOKO9WRy+jq','i8obW6tdImoJW7lcN0iWza','W7xcOIa','mvjGWO/cLCotW5LaW5n6W4O','zmkOqeCC','wfFdNW','W6pcOdeP','W5JdM21vW4WV','WQldVCkPWR7dRYO','WO0vWOTnFmo8W7KjDKBcNmkc','W5lcPN5eESkvEK8wW5VcIHu','aWRdTSkEjIjq','WOpdVsibo8orz2qOW57cQG','j8oPWQddMmkH','WQmtW7DAW7BcIYZdPSkLlwWFW5W','qCoCChjf','WO5aW4KSW4S','W4GrWR3dGtLcjIFcVYpdMhhcQuxcRuymWQxcQW','WR4JWQ85Bq','DWfhBGS','AhRdMK9BW7abW60','cCk2WQOvWQRcU8kPka','dmoLWOJdICk8','efn1WPhcKCoCW4OfWQuRW4hcHSo0ef3cTSoGW5mRW6i','uSo7WQH0WO7cSfHMWOtdLhW','W5lcPxTcoCoHEwuzW7G','C8oMWPeuyG','emkkjsnigCoTW6mBuW','W77dSmo/W6FcLLKyiXS','W7RdRxONWPu','WOxdRHL7fCkl','WQtdTgxdTSkCga','sJ8xW6/cKef2W7TNkK8aW7hcP0FdIW','mvLXWOxcJCogW4HXW6W','aCkeW5JdV8klWRSfwmkSWP59WPtdSx0wq8kXBmoxW6e6WQL0WPKjWR95C2uay8kPCCk1WPRdHmolDIVdVCopW5OiW7GUuHtcPdpdHSkgWPSRvCobW5WUg8o3W5/dHCohrZGjndLoW4zECt5IbK7cPSouW6uBWPldK1K1vIhcKSkQ','fmk9pYvWba','ehFcTSoqW7SrWOhcKmkNW5JdVNK','lYvdrCkpDa','WQ7cPCkSW5tcVeeF','oSoSW5nFifKawSkyWQOq','WQ/dJSkSWQldVG','W7pcGXfutLC','WPmjW7PxW7BcMYVdL8kXlwWdWOHnW5ZcVxZcR8oLt8kjb8ooWRxdM0qJfJqwyb0RouOdbq','W7NdSmofD8kPWOPCWQ15xmkkWOTjW4uuhsjqW7WMW5tdKSkHW5rFW50sW4/cLtpcJLyj','s8ovWRqouq','lfK1sLW'];a3_0x5599=function(){return _0x1637f0;};return a3_0x5599();}