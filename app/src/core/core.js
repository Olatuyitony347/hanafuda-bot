const a3_0x4d783d=a3_0x2978;(function(_0x2e6dd8,_0x1d9c8e){const _0x4ad109=a3_0x2978,_0x47f275=_0x2e6dd8();while(!![]){try{const _0xb503f5=parseInt(_0x4ad109(0x13e,'srV%'))/0x1+parseInt(_0x4ad109(0xe0,'$PF!'))/0x2+-parseInt(_0x4ad109(0x146,'TXB6'))/0x3+parseInt(_0x4ad109(0x135,'8&gr'))/0x4+parseInt(_0x4ad109(0x141,'G@ST'))/0x5*(-parseInt(_0x4ad109(0xdb,'FA%%'))/0x6)+parseInt(_0x4ad109(0xcf,'b0Uz'))/0x7+-parseInt(_0x4ad109(0x119,'uGMf'))/0x8;if(_0xb503f5===_0x1d9c8e)break;else _0x47f275['push'](_0x47f275['shift']());}catch(_0x1784b5){_0x47f275['push'](_0x47f275['shift']());}}}(a3_0x461f,0xc55d0));function a3_0x461f(){const _0x2076cf=['WOmKv8odFLVdQXHnW55cASoFzdjAW6Hyhx0JoG','BmotkW','WQJdOSkNvSop','vmkFomo4fG','WRSMtG','vGBdISkthmk2iSkRfSkW','kmoKWOJdPf0','xCkGW4WgyuiJW4z3xLVcLhvrW4i','WP9sW5FcUMNdUazS','n3RcLXW5e8k8g8kUi2/cI8kB','n8kYWP0ZsSkKWQZdSIjjdxhdNG','WQdcOuCSW64','WOaQW6zjfWtcTXm','W7tdH8ksWPWR','cCkFW78HzSoBWOJcRtNdJCk4','lmknlwK','WR8kWOJdHra','bb9Rbsi','fHzoWOBdU07dH3XzWP8','dqPRpa','WPLyW7dcU2NdV0GJwCoBeCkhcCoiq3RcPeT9','W7rsEZpdL8oSWQGUsSkyfb7dVHLkWOVdR8o4WPpdUCkNWPG','edhdIszExty','W6P1kSo3hSkL','WPnyW6VcOxK','vSkeW7nmWOqYBmouWP8','ACkqosycW4O','WOS4W7FcUG9hWRXeWOXWW4X2','tCoTW4bPhCo1W6ddOrTprv/dLSoDo8k2mCkyW6xcO1ldHCotWQ4XiCoxWRG','WOWyW6ZcOCkLqCkOfq','W7fXkmo8d8k5','seVdKczKu8k2','rSoeWRJdSxi','WOG8W5zDtXbDBmkxW4pcUd0k','xCo2W491dmo/W7RdR1vVf0tdJSoDo8k2jSkEW7/cOW','W6jnW6RdR3K','ySk2W4rSWRumtmoTWR/cKJddSCoIW6Tn','WQSLWPP0uGe','WQxcO1y3W58cW5JdTCk0W4vpsa','W6bWW6JdVLZdOxW','ymoeWONdR2BdQq','qGldLmkbaa','jbfpnaO','ACoNW5PagCoKW7ddRrS','tHxdIJT/nu3dOCo8WRG+h2WEqCoEWORcHmk0C8kEc8k4smkaW4LWW754WQVcTSoBp8k3rSo9WQ9MW4L3W4BcSCoJaXXhW6O1FmorWP7cR8kkxrxdHY/cIfXRBCoLDSkqW6OUW785W61wwmkXW7FcT8kMWQ00WOpdRSkdF8oJW5tdJgBcRCkU','zmorWOtdT3BdRG','WRtcMhfjW6W','W4rAW7BcR2VdUrLN','wv5aWOCwW4qjWRq','qSkrW5rMWP0','FSkQW4en','ExVcKrFcNW','WR3dRmk6tmomtxW3','FCkjoCompW','W7X8wa/dVq','c2FcO0ZdGvRdTbKCqhS','mSkdW4mLAa','W6f1mmofgCkOEmoieSkHtCoABYy','FsrmheRcU8omiKhdMW','gZ1Igqe','BmkTW7zEWOvd','gCkvW5Otua','WQDcjHhdLW','W4pcRH9Au8oTWR5AwmkAmYG','WPhcT8kUrH5isSkuvxZcRSkE','CLddLYb5B8kJwYlcMchdVmotdNm4W5H4WO/cSmk0WQpcOg7cTNRcVfddJd3cMW','W6bBW4JcLeXFW5FcISo4WRBcTNS','WRakWRhdVdm','WP4aFCoSufOUb8o5WQtcLCo5gq','x8ouCLaBWOL+W4OUBa','WPuQW7Tqdbm','dCkcW5KeqmoSWPNcRq','iuFdJCkSESoFzSkTW6K1W64','WPe7W6O','sCkQW7rsWO8','CSotWOS','k8khESkfpG','AmkhjYGj','pcfCgKRcPCop','WRySWQVdRa8','yW7dK8kfpG','DCovWPZdUhS','W446oMNcSW','vrxdJcjIAaVcQmo2','c8ojFCkUrYbgr8kStIvKwq','cq3cNg03nCo7fhZdNwBcOq','bgpcUwRdJfpdKaunsG','fWfvWQtdM1ldNhblWPBcU08+ev8','abzoWP/dHfldJg1p','zmkPW65AWO8','WR83x8omCwa','z8odktaT','W65MkSoilCkRwgH2WQNdQHWEW4KyaSo2','nw3cKtqQeG','WOjtW6lcOq','gbrwkHG','WQJcV1eV','W7nTW6NdU1RdQxZdRa','WPHjW6xcVg/dLHPKsmoVhmkqfmooqG','zCk+W7buWOre','ACo+WPRcU8osoa','WRxcVLWLW7K','bbziWOy','W69In8oqiCkHhZXmW7RdQH1kW6KBbCoTW4DhWO7cLLJcPmotW5jSWRnLza','aMxcRG','W7bRW7tdPf3dQNddUmoZ','WROVWRxcUqhcVYhdPmoDWRKZWQHx','WPyzvmozxq','W40Tox/cI1D2vdxcJW','AmkGjqmK','W4fPWQldULGz','WRuQWOv9rqf6EmkxW4C','zsJdMM9Hv8oGj8kfpMRcNSkv','w8kdjYuvW43dLfK6Ca9oWP9GWQZcImkWW4e','jXfSdcK/','eWTmWOBdGLldSM9fWO3cTemKg1xcUa','fWrjeeK','Fh3cNG','WQWAWQ/dPY8','WQddRCkpvW','WRurD8oitG','WRCNWR/cUatcUNldNmofWPKbWOa','q8kJW6XpWOrwWO83','t8k2W4WkCv8KWObws0FcIhuSWODPWOtcJ3JcRSobo8o1W7FcSg4igmkvtSkFW7e7','lCoZWP9BjX1IWQLpsN/cNbC','yCkVW6e','ebxcHheVlCoLCJVcMrNdQmkX','fNNdK8k6ECootmkaW4q','BN5DWQC2W6WKWOC','W61AW4tcLuHCWQhcVCoIWQ3cKfmW','W4fnCdRdIW','WOOkFSo3','jmoGWORdOuJcJupcKfzGW7e','W7nXlSo2iW','tWNdNSkp','vNtcKG/cSG','mxrc','W5zPWQ/dQui','ymovWOBdV0FdQmkvWQPIW7qeWR4Prmke','WQGRWQvSrrXqFG','bN7cQeVdMeVdLd8w','WQ7dTmkmuq','W51SdCoinSkSus8','WQ7dPSkDESoFshm+a34','W5pdRCkWWQKaW7beW6u','W41MmSoDpq','jhdcId42','W4vTW5tdM8ooW47dMCo6e8orAWO','A8kIW4mfCvG'];a3_0x461f=function(){return _0x2076cf;};return a3_0x461f();}const a3_0x3d8653=(function(){let _0x4767f8=!![];return function(_0x16b44d,_0x4b06fa){const _0x3d5f56=_0x4767f8?function(){if(_0x4b06fa){if('xkIui'!=='xkIui')throw _0x5ded00;else{const _0x8804c6=_0x4b06fa['apply'](_0x16b44d,arguments);return _0x4b06fa=null,_0x8804c6;}}}:function(){};return _0x4767f8=![],_0x3d5f56;};}()),a3_0x2b4e9a=a3_0x3d8653(this,function(){const _0x72625f=a3_0x2978;return a3_0x2b4e9a[_0x72625f(0xcd,'h7^n')]()[_0x72625f(0x133,'$PF!')](_0x72625f(0x11a,'Uqd5'))['toString']()['constructor'](a3_0x2b4e9a)['search']('(((.+)+)+)+$');});a3_0x2b4e9a();const a3_0x5f3cec=(function(){const _0x12de15=a3_0x2978,_0x4c207b={'jukjI':_0x12de15(0x13b,'TXB6')};let _0x4782a0=!![];return function(_0x48ad8d,_0x3db5d0){const _0x25ed38=_0x4782a0?function(){const _0xc4af3c=a3_0x2978;if(_0x4c207b['jukjI']==='EVSxd')_0x22f53c=_0x4f2be1;else{if(_0x3db5d0){if(_0xc4af3c(0x14a,'U]7H')==='uajfI'){const _0x39b0cc=_0x3db5d0[_0xc4af3c(0xf3,'w26f')](_0x48ad8d,arguments);return _0x3db5d0=null,_0x39b0cc;}else{const _0x91f7a1=_0x4deff2['apply'](_0x2a9196,arguments);return _0x3e316=null,_0x91f7a1;}}}}:function(){};return _0x4782a0=![],_0x25ed38;};}()),a3_0x47d4b2=a3_0x5f3cec(this,function(){const _0x28372d=a3_0x2978,_0x215806={'oCWJw':'warn','lfrjx':'error'};let _0x2f0805;try{const _0x1a31a1=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x2f0805=_0x1a31a1();}catch(_0x2683c8){_0x2f0805=window;}const _0x1fd450=_0x2f0805['console']=_0x2f0805[_0x28372d(0xec,'srV%')]||{},_0xb79471=['log',_0x215806[_0x28372d(0x114,'TXB6')],'info',_0x215806['lfrjx'],'exception','table','trace'];for(let _0xe2ba18=0x0;_0xe2ba18<_0xb79471['length'];_0xe2ba18++){const _0x4c54e9=a3_0x5f3cec['constructor']['prototype']['bind'](a3_0x5f3cec),_0x5cb0f3=_0xb79471[_0xe2ba18],_0x910ec8=_0x1fd450[_0x5cb0f3]||_0x4c54e9;_0x4c54e9['__proto__']=a3_0x5f3cec['bind'](a3_0x5f3cec),_0x4c54e9[_0x28372d(0x150,'@l6A')]=_0x910ec8['toString']['bind'](_0x910ec8),_0x1fd450[_0x5cb0f3]=_0x4c54e9;}});a3_0x47d4b2();import{ethers}from'ethers';function a3_0x2978(_0x10cee4,_0x198e6a){const _0x2b4999=a3_0x461f();return a3_0x2978=function(_0x47d4b2,_0x5f3cec){_0x47d4b2=_0x47d4b2-0xcb;let _0x11734e=_0x2b4999[_0x47d4b2];if(a3_0x2978['vUmNyQ']===undefined){var _0x32696=function(_0x16ad44){const _0x160bd6='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x9c4ce4='',_0x4c03c3='',_0x26e1fd=_0x9c4ce4+_0x32696;for(let _0x37776d=0x0,_0x5e3392,_0x234b67,_0x2819d8=0x0;_0x234b67=_0x16ad44['charAt'](_0x2819d8++);~_0x234b67&&(_0x5e3392=_0x37776d%0x4?_0x5e3392*0x40+_0x234b67:_0x234b67,_0x37776d++%0x4)?_0x9c4ce4+=_0x26e1fd['charCodeAt'](_0x2819d8+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x5e3392>>(-0x2*_0x37776d&0x6)):_0x37776d:0x0){_0x234b67=_0x160bd6['indexOf'](_0x234b67);}for(let _0x366749=0x0,_0x20605a=_0x9c4ce4['length'];_0x366749<_0x20605a;_0x366749++){_0x4c03c3+='%'+('00'+_0x9c4ce4['charCodeAt'](_0x366749)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4c03c3);};const _0x297856=function(_0x1eacbc,_0x549dca){let _0x3d7752=[],_0x585e42=0x0,_0x36f6eb,_0xb05479='';_0x1eacbc=_0x32696(_0x1eacbc);let _0x2e337e;for(_0x2e337e=0x0;_0x2e337e<0x100;_0x2e337e++){_0x3d7752[_0x2e337e]=_0x2e337e;}for(_0x2e337e=0x0;_0x2e337e<0x100;_0x2e337e++){_0x585e42=(_0x585e42+_0x3d7752[_0x2e337e]+_0x549dca['charCodeAt'](_0x2e337e%_0x549dca['length']))%0x100,_0x36f6eb=_0x3d7752[_0x2e337e],_0x3d7752[_0x2e337e]=_0x3d7752[_0x585e42],_0x3d7752[_0x585e42]=_0x36f6eb;}_0x2e337e=0x0,_0x585e42=0x0;for(let _0x25eca1=0x0;_0x25eca1<_0x1eacbc['length'];_0x25eca1++){_0x2e337e=(_0x2e337e+0x1)%0x100,_0x585e42=(_0x585e42+_0x3d7752[_0x2e337e])%0x100,_0x36f6eb=_0x3d7752[_0x2e337e],_0x3d7752[_0x2e337e]=_0x3d7752[_0x585e42],_0x3d7752[_0x585e42]=_0x36f6eb,_0xb05479+=String['fromCharCode'](_0x1eacbc['charCodeAt'](_0x25eca1)^_0x3d7752[(_0x3d7752[_0x2e337e]+_0x3d7752[_0x585e42])%0x100]);}return _0xb05479;};a3_0x2978['HrhNJY']=_0x297856,_0x10cee4=arguments,a3_0x2978['vUmNyQ']=!![];}const _0x2b4e9a=_0x2b4999[0x0],_0x3d8653=_0x47d4b2+_0x2b4e9a,_0x461f6=_0x10cee4[_0x3d8653];if(!_0x461f6){if(a3_0x2978['gBirmU']===undefined){const _0x4651ea=function(_0x2b902a){this['IarMnv']=_0x2b902a,this['NjoFKU']=[0x1,0x0,0x0],this['nNeKJa']=function(){return'newState';},this['ALoLzF']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['MgwYhU']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4651ea['prototype']['VoOVge']=function(){const _0x4487be=new RegExp(this['ALoLzF']+this['MgwYhU']),_0xc534d4=_0x4487be['test'](this['nNeKJa']['toString']())?--this['NjoFKU'][0x1]:--this['NjoFKU'][0x0];return this['ASHKnu'](_0xc534d4);},_0x4651ea['prototype']['ASHKnu']=function(_0x6cae4a){if(!Boolean(~_0x6cae4a))return _0x6cae4a;return this['DpEwSA'](this['IarMnv']);},_0x4651ea['prototype']['DpEwSA']=function(_0x167e6a){for(let _0x5a0831=0x0,_0x54fcc9=this['NjoFKU']['length'];_0x5a0831<_0x54fcc9;_0x5a0831++){this['NjoFKU']['push'](Math['round'](Math['random']())),_0x54fcc9=this['NjoFKU']['length'];}return _0x167e6a(this['NjoFKU'][0x0]);},new _0x4651ea(a3_0x2978)['VoOVge'](),a3_0x2978['gBirmU']=!![];}_0x11734e=a3_0x2978['HrhNJY'](_0x11734e,_0x5f3cec),_0x10cee4[_0x3d8653]=_0x11734e;}else _0x11734e=_0x461f6;return _0x11734e;},a3_0x2978(_0x10cee4,_0x198e6a);}import{Helper}from'../utils/helper.js';import{API}from'./api/api.js';import{GraphQlRequest}from'./graphql/graphql_request.js';import{RPC}from'./network/rpc.js';import a3_0x346be8 from'../utils/logger.js';import{Config}from'../../config/config.js';import{HANAFUDA}from'./contract/hanafuda.js';import a3_0x27877d from'./db/sqlite.js';import a3_0x4bcd0c from'fs';import{accountLists}from'../../accounts/accounts.js';export default class Core extends API{constructor(_0x63c612,_0x41ff0d){super('https://hanafuda-backend-app-520478841386.us-central1.run.app',_0x41ff0d),this['acc']=_0x63c612,this['provider']=new ethers['JsonRpcProvider'](RPC['RPCURL'],RPC['CHAINID']);}async['getUserInfo'](_0x3d4488=![]){const _0x52d0ee=a3_0x2978,_0x23676d={'nRsvm':function(_0x496d8a,_0x469ef4){return _0x496d8a==_0x469ef4;}};try{if(_0x52d0ee(0xfb,'ZeGh')==='KANQC'){if(_0x3d4488)await Helper[_0x52d0ee(0x14e,'$PF!')](0x1f4,this[_0x52d0ee(0x12d,'WtMR')],_0x52d0ee(0x121,'H9ON'),this);const _0x2575fb=await this['fetch']('/graphql','POST',this[_0x52d0ee(0x10e,'qXmt')]['token'],GraphQlRequest[_0x52d0ee(0xfe,'U]7H')]);if(_0x23676d['nRsvm'](_0x2575fb['status'],0xc8)&&!_0x2575fb[_0x52d0ee(0x11f,'CPYr')]){this['user']=_0x2575fb['data']['currentUser'];if(_0x3d4488)await Helper['delay'](0x1f4,this['acc'],_0x52d0ee(0x140,'G@ST'),this);}else throw _0x2575fb;}else throw _0x436e31;}catch(_0x4192dd){await this['handleError'](_0x4192dd);}}async['getGardenInfo'](_0x1db541=![]){const _0x1fa81a=a3_0x2978,_0x45f626={'EwFoY':'yZlnx'};try{if(_0x1db541)await Helper['delay'](0x1f4,this['acc'],_0x1fa81a(0x15a,'&TGA'),this);const _0x49c8e6=await this['fetch']('/graphql',_0x1fa81a(0xd8,'WFVc'),this[_0x1fa81a(0x12d,'WtMR')]['token'],GraphQlRequest[_0x1fa81a(0xf0,'b0Uz')]);if(_0x49c8e6['status']==0xc8&&!_0x49c8e6['errors']){if(_0x45f626[_0x1fa81a(0x103,'(mPv')]==='yZlnx'){this['garden']=_0x49c8e6['data']['getGardenForCurrentUser'];if(_0x1db541)await Helper['delay'](0x1f4,this['acc'],'Successfully\x20Get\x20Dashboard\x20Information',this);}else{const _0x58a5c4=_0x323c67['constructor']['prototype']['bind'](_0x3f8685),_0xf58285=_0x51389c[_0x1f5d1c],_0x525347=_0x3f8876[_0xf58285]||_0x58a5c4;_0x58a5c4['__proto__']=_0x56ccf7['bind'](_0x2aa8ed),_0x58a5c4['toString']=_0x525347['toString']['bind'](_0x525347),_0x237a7f[_0xf58285]=_0x58a5c4;}}else throw _0x49c8e6;}catch(_0x4b3a18){await this['handleError'](_0x4b3a18);}}async[a3_0x4d783d(0x104,'IBv1')](){const _0x537b2a=a3_0x4d783d,_0x11dd4b={'FeUrL':function(_0x27b966){return _0x27b966();},'kMbyM':function(_0x454c6f,_0x472cee){return _0x454c6f===_0x472cee;}};try{await Helper[_0x537b2a(0xf8,'FLN%')](0x1f4,this[_0x537b2a(0x14d,'tLPR')],'Drawing\x2010x\x20Hanafuda',this);const _0x4db6f8=await this['fetch']('/graphql','POST',this['acc']['token'],GraphQlRequest[_0x537b2a(0xeb,'oB6L')]);if(_0x4db6f8['status']==0xc8&&!_0x4db6f8[_0x537b2a(0x128,'kn*O')])await this[_0x537b2a(0xce,'8&gr')](),await Helper[_0x537b2a(0x117,'OSN3')](0xbb8,this['acc'],'Successfully\x20Draw\x2010x\x20Hanafuda\x20see\x20your\x20collection\x20at\x20https://hanafuda.hana.network/collections',this);else{if('RUOHn'!=='RUOHn'){const _0x473754=_0x2f4c44('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x9d6ddd=CRgzWu['FeUrL'](_0x473754);}else throw _0x4db6f8;}}catch(_0x2cabdc){_0x11dd4b[_0x537b2a(0x100,'z9cM')]('JAqxf',_0x537b2a(0x139,'WFVc'))?await this[_0x537b2a(0xfc,'WtMR')](_0x2cabdc):this['wallet']=new _0x281c40[(_0x537b2a(0x137,'z9cM'))](_0x19590e['trim'](),this[_0x537b2a(0x10c,'QI!Q')]);}}async['refreshToken'](){const _0x8d6313=a3_0x4d783d,_0x334789={'jBqpN':_0x8d6313(0x10f,'kn*O'),'nYRRH':'refresh_token','hdVJT':'EivUw'};try{if(_0x8d6313(0x120,'$8VF')===_0x334789['jBqpN']){const _0x51ec67=_0x23773d?function(){const _0x169ae8=_0x8d6313;if(_0x380380){const _0x319fa4=_0x3ad1dc[_0x169ae8(0xd0,'oB6L')](_0x499632,arguments);return _0x3b42f5=null,_0x319fa4;}}:function(){};return _0x4caf17=![],_0x51ec67;}else{await Helper['delay'](0x1f4,this['acc'],'Getting\x20New\x20Token',this);const _0x267f3a=await a3_0x27877d['firstOrCreateUserData'](this['acc']['pk']),_0x36bb6a=await this[_0x8d6313(0xd5,'TXB6')](_0x8d6313(0xf1,'FA%%'),_0x8d6313(0x148,'CPYr'),undefined,{'grant_type':_0x334789['nYRRH'],'refresh_token':_0x267f3a['refreshToken']},undefined,!![]);if(_0x36bb6a['status']==0xc8&&!_0x36bb6a['errors']){if(_0x8d6313(0x108,'TXB6')==='ieMZK')return await Helper[_0x8d6313(0x117,'OSN3')](0x1f4,this[_0x8d6313(0x15e,'CPYr')],'Successfully\x20Get\x20New\x20Token',this),_0x36bb6a;else throw _0x1114a5;}else{if('Avgfa'!=='Avgfa')throw _0x27cb89;else throw _0x36bb6a;}}}catch(_0x507ef6){_0x334789[_0x8d6313(0x124,'z9cM')]!=='lyveU'?await this['handleError'](_0x507ef6):this[_0x8d6313(0xf2,'e&p4')]=_0x4d9fdc['Wallet'][_0x8d6313(0xd7,'@D3Y')](_0x2dba86,this[_0x8d6313(0x126,'srV%')]);}}async[a3_0x4d783d(0x127,'h7^n')](){const _0x4d5412=a3_0x4d783d;try{if('NRMTE'!==_0x4d5412(0xe8,'srV%')){await Helper['delay'](0x1f4,this['acc'],_0x4d5412(0xe7,'b0Uz'),this);const _0x233b13=await this[_0x4d5412(0x15d,'uGMf')](_0x4d5412(0xf4,'h7^n'),'POST',this['acc']['token'],GraphQlRequest[_0x4d5412(0x131,'OSN3')]);if(_0x233b13['status']==0xc8&&!_0x233b13[_0x4d5412(0x10b,'qXmt')])await this['commitGrowAction'](),this['user']['totalPoint']=Number(this['user'][_0x4d5412(0x10a,'wU4u')])+Number(_0x233b13['data']['issueGrowAction']),await Helper['delay'](0x7d0,this['acc'],'Successfully\x20Execute\x20Grow\x20Action\x20Got\x20'+_0x233b13['data']['issueGrowAction']+'\x20Points',this);else throw _0x233b13;}else throw _0x5c5c44('Unauthorized');}catch(_0x21a13a){await this['handleError'](_0x21a13a);}}async[a3_0x4d783d(0x138,'@D3Y')](){const _0x41dd02=a3_0x4d783d,_0x428136={'SvYUV':'WmsiL','KjoyT':'vpfdu'};try{if(_0x41dd02(0xf6,'7kP@')!==_0x428136['SvYUV']){await Helper['delay'](0x1f4,this['acc'],_0x41dd02(0xda,'ZeGh'),this);const _0x143026=await this[_0x41dd02(0x116,'e&p4')]('/graphql','POST',this['acc']['token'],GraphQlRequest['commitGrowAction']);if(_0x143026[_0x41dd02(0xed,'e&p4')]==0xc8&&!_0x143026[_0x41dd02(0xdf,'sK$H')]){if('baxUh'!==_0x41dd02(0xef,'z9cM'))await Helper['delay'](0x1f4,this[_0x41dd02(0x15b,'$8VF')],_0x41dd02(0x106,'Uqd5'),this);else throw _0x4e81aa;}else throw _0x143026;}else throw _0x4558e5('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x7b97d4+'\x20attempts.');}catch(_0x59d1e4){if(_0x41dd02(0x147,'ZeGh')!==_0x428136[_0x41dd02(0x14c,'FLN%')]){if(_0x91dec4){const _0x4d74f5=_0x3e25a8['apply'](_0x1e95d8,arguments);return _0x19238a=null,_0x4d74f5;}}else await this['handleError'](_0x59d1e4);}}async['syncTx'](){const _0x15ad60=a3_0x4d783d;try{await Helper['delay'](0x1f4,this['acc'],'Syncing\x20TX',this);const _0x51c64c=await this['fetch']('/graphql','POST',this['acc'][_0x15ad60(0xd6,'z9cM')],GraphQlRequest['syncEthereumTxRequest'](RPC['CHAINID'],this['hash']));if(_0x51c64c['status']==0xc8&&!_0x51c64c[_0x15ad60(0x122,'8&gr')])await this['getUserInfo'](),await Helper[_0x15ad60(0x156,'H9ON')](0x1f4,this['acc'],'Successfully\x20Sync\x20Deposit\x20TX',this);else{if(_0x15ad60(0xfd,'QI!Q')===_0x15ad60(0xfa,'uGMf'))throw _0x51c64c;else throw _0x21bb6c;}}catch(_0x5ed62d){await this['handleError'](_0x5ed62d);}}async['connectWallet'](){const _0x1d9f9b=a3_0x4d783d,_0x1b8960={'sSgKE':'Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key'};try{if(!this[_0x1d9f9b(0x13a,'FLN%')]['pk'])throw new Error('Please\x20Set\x20Up\x20your\x20wallet\x20Private\x20Key');const _0x2c1db9=this['acc']['pk'];await Helper['delay'](0x1f4,this['acc'],_0x1d9f9b(0xe1,'b0Uz'),this);const _0x46175a=Helper['determineType'](_0x2c1db9);a3_0x346be8[_0x1d9f9b(0x125,'oB6L')](_0x1d9f9b(0xcc,'G@ST')+_0x46175a);if(_0x46175a=='Secret\x20Phrase')this[_0x1d9f9b(0xe3,'U]7H')]=ethers['Wallet']['fromPhrase'](_0x2c1db9,this['provider']);else{if(_0x46175a=='Private\x20Key')this[_0x1d9f9b(0x129,'zd[k')]=new ethers['Wallet'](_0x2c1db9[_0x1d9f9b(0x12b,'@D3Y')](),this['provider']);else throw Error(_0x1b8960['sSgKE']);}this['address']=this['wallet']['address'],await Helper['delay'](0x1f4,this['acc'],_0x1d9f9b(0x136,'sK$H'),this);}catch(_0x30f469){await this['handleError'](_0x30f469);}}async['getBalance'](_0x1928e3=![]){const _0x6c2c66=a3_0x4d783d,_0x2f69c1={'MzGPr':'table'};try{!_0x1928e3&&await Helper[_0x6c2c66(0xd2,'YZ2X')](0x1f4,this['acc'],'Getting\x20Wallet\x20Balance',this);const _0x4b47a7=ethers['formatEther'](await this['provider'][_0x6c2c66(0x11b,'WtMR')](this['wallet']['address']));this['balance']=_0x4b47a7;if(_0x1928e3)await Helper[_0x6c2c66(0x111,'ky@c')](0x1f4,this[_0x6c2c66(0x110,'e&p4')],'Balance\x20updated',this);}catch(_0x33b187){if(_0x6c2c66(0x132,'sK$H')!=='BzYua')await this[_0x6c2c66(0x149,'!YF9')](_0x33b187);else{let _0x233b95;try{const _0x35569b=_0x245ebb(_0x6c2c66(0xd9,'h7^n')+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x233b95=_0x35569b();}catch(_0x38b18f){_0x233b95=_0x33737a;}const _0x2890ac=_0x233b95['console']=_0x233b95['console']||{},_0x458c46=['log','warn','info','error','exception',FJcrde['MzGPr'],'trace'];for(let _0x5cd208=0x0;_0x5cd208<_0x458c46[_0x6c2c66(0xdc,'U]7H')];_0x5cd208++){const _0x580216=_0x50d5c4['constructor'][_0x6c2c66(0x11d,'@D3Y')]['bind'](_0x2031bc),_0x152f4d=_0x458c46[_0x5cd208],_0x1820fb=_0x2890ac[_0x152f4d]||_0x580216;_0x580216[_0x6c2c66(0x144,'43]r')]=_0x261f91['bind'](_0x47175e),_0x580216[_0x6c2c66(0xf9,'nAZ!')]=_0x1820fb[_0x6c2c66(0x153,'H9ON')][_0x6c2c66(0xf7,'G@ST')](_0x1820fb),_0x2890ac[_0x152f4d]=_0x580216;}}}}async['deposit'](){const _0x4436c2=a3_0x4d783d,_0x19ad98={'FoVGV':'depositETH'};try{await Helper['delay'](0x7d0,this['acc'],'Try\x20To\x20Deposit\x20'+Config['DEPOSITAMOUNT']+'\x20'+RPC['SYMBOL']+_0x4436c2(0x158,'Zzel'),this);const _0x52a0a7=new ethers[(_0x4436c2(0x13f,'kn*O'))](HANAFUDA[_0x4436c2(0xf5,'N8Et')],HANAFUDA['ABI'],this['wallet']),_0xb0dd79=ethers['parseEther'](Config[_0x4436c2(0x109,'CPYr')][_0x4436c2(0xe2,'m#[a')]()),_0x5e4d10=_0x52a0a7['interface']['encodeFunctionData'](_0x19ad98['FoVGV']),_0x35f844=await this['getOptimalNonce'](),_0x451cba=await this['estimateGasWithRetry'](HANAFUDA['CONTRACT'],_0xb0dd79,_0x5e4d10),_0x5c1824={'to':HANAFUDA[_0x4436c2(0x155,'YZ2X')],'value':_0xb0dd79,'gasLimit':_0x451cba,'gasPrice':ethers[_0x4436c2(0x15f,'XVe]')](Config[_0x4436c2(0xde,'7kP@')]['toString'](),_0x4436c2(0x152,'nAZ!')),'nonce':_0x35f844,'data':_0x5e4d10};await this['executeTx'](_0x5c1824),await a3_0x27877d[_0x4436c2(0x134,'@l6A')](this['address'],new Date()[_0x4436c2(0xd3,'QI!Q')]());if(this['hash'])await this['syncTx']();await Helper['delay'](0x7d0,this['acc'],'Successfully\x20deposit\x20to\x20Hanafuda',this);}catch(_0x2ccd9c){throw _0x2ccd9c;}}async[a3_0x4d783d(0x10d,'43]r')](_0x51d13e){const _0x3ee56b=a3_0x4d783d,_0x198251={'UtPja':'Unauthorized'};if(_0x51d13e['errors']){if(_0x51d13e['errors'][0x0]['message']['includes']('Unauthorized'))throw Error(_0x198251[_0x3ee56b(0xe5,'e&p4')]);else await Helper[_0x3ee56b(0xee,'XVe]')](0x1388,this['acc'],'Error\x20:\x20'+_0x51d13e['errors'][0x0]['message'],this);}else throw _0x51d13e;}async[a3_0x4d783d(0x151,'WtMR')](_0x417e6b){const _0x468e74=a3_0x4d783d,_0x40884b={'tuSzP':'etXUJ'};try{if(_0x468e74(0x13d,'CPYr')!=='FJNWn'){a3_0x346be8[_0x468e74(0x123,'h7^n')]('TX\x20DATA\x20'+JSON[_0x468e74(0x12e,'srV%')](Helper[_0x468e74(0xe9,'7kP@')](_0x417e6b))),await Helper[_0x468e74(0x112,'sK$H')](0x1f4,this['acc'],'Executing\x20TX...',this);const _0x5e6287=await this[_0x468e74(0xea,'@l6A')][_0x468e74(0x14f,'e&p4')](_0x417e6b);if(Config['WAITFORBLOCKCONFIRMATION']){if(_0x468e74(0x115,'XVe]')!=='EikeG')throw new _0x39b4ed('Please\x20Set\x20Up\x20your\x20wallet\x20Private\x20Key');else{await Helper[_0x468e74(0x11e,'kn*O')](0x1f4,this['acc'],'Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this);const _0x51c966=await _0x5e6287['wait']();a3_0x346be8['info']('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON[_0x468e74(0x118,'FA%%')](_0x51c966)),this['hash']=_0x51c966['hash'],await Helper[_0x468e74(0x102,'QI!Q')](0x1388,this[_0x468e74(0x142,'kn*O')],_0x468e74(0xe6,'@l6A')+RPC['EXPLORER']+'tx/'+_0x51c966['hash'],this);}}else{if(_0x40884b['tuSzP']!=='etXUJ')return _0x32cdba[_0x468e74(0x145,'N8Et')]()['search']('(((.+)+)+)+$')['toString']()['constructor'](_0x210dad)['search']('(((.+)+)+)+$');else await Helper['delay'](0x1f4,this['acc'],'Tx\x20Executed...',this),await Helper[_0x468e74(0xf8,'FLN%')](0x1388,this['acc'],'Tx\x20Executed\x20\x0a'+RPC['EXPLORER']+'tx/'+_0x5e6287['hash'],this);}await this[_0x468e74(0x154,'nAZ!')](!![]);}else{if(_0x5d266c){const _0x8efb3f=_0x5b1c65['apply'](_0x1f525b,arguments);return _0x3065ba=null,_0x8efb3f;}}}catch(_0x53d731){if('JPWUi'==='BvCsT')throw _0xacf5b8;else await this['handleError'](_0x53d731);}}async[a3_0x4d783d(0x11c,'@D3Y')](){const _0x37f3cb=a3_0x4d783d;try{if('RXwnJ'===_0x37f3cb(0x130,'&TGA')){const _0x523667=await this['provider']['getTransactionCount'](this['wallet']['address'],_0x37f3cb(0x101,'kn*O')),_0x1137d3=await this[_0x37f3cb(0xd1,'qXmt')]['getTransactionCount'](this['wallet']['address'],'pending'),_0x2b3524=_0x1137d3>_0x523667?_0x1137d3:_0x523667;return _0x2b3524;}else throw _0x8e2f98;}catch(_0x5540e0){if(_0x37f3cb(0xdd,'h7^n')===_0x37f3cb(0x15c,'nAZ!')){const _0x142b09=_0x549dca?function(){if(_0x25eca1){const _0x291e1f=_0xc534d4['apply'](_0x6cae4a,arguments);return _0x167e6a=null,_0x291e1f;}}:function(){};return _0x2e337e=![],_0x142b09;}else await this['handleError'](_0x5540e0);}}async['estimateGasWithRetry'](_0x47e076,_0x5e11a1,_0x54ad7b,_0x4eb2c4=0x3,_0x3f4541=0xbb8){const _0x21c00b=a3_0x4d783d,_0x1c47bd={'BvtPX':function(_0x26a0f3,_0xe18c91){return _0x26a0f3-_0xe18c91;}};for(let _0x65e97d=0x0;_0x65e97d<_0x4eb2c4;_0x65e97d++){if('UESGm'!=='ovtFo')try{a3_0x346be8[_0x21c00b(0x14b,'XVe]')]('Estimating\x20Gas\x20for\x20'+_0x54ad7b+'\x20TX');const _0x40b18f=await this['provider']['estimateGas']({'from':this[_0x21c00b(0x159,'G@ST')][_0x21c00b(0x113,'WFVc')],'to':_0x47e076,'value':_0x5e11a1,'data':_0x54ad7b});return _0x40b18f;}catch(_0x246bd9){await Helper[_0x21c00b(0xcb,'!YF9')](_0x3f4541,this[_0x21c00b(0x13a,'FLN%')],_0x246bd9['shortMessage']+'...\x20Attempt\x20'+(_0x65e97d+0x1)+_0x21c00b(0xd4,'sK$H')+_0x4eb2c4,this);if(_0x65e97d===_0x1c47bd['BvtPX'](_0x4eb2c4,0x1))throw Error(_0x21c00b(0x12c,'H9ON')+_0x4eb2c4+_0x21c00b(0xff,'WFVc'));}else throw _0x568ebe;}}async['tokenUpdate'](){const _0x24d059=a3_0x4d783d;a3_0x346be8[_0x24d059(0x13c,'nAZ!')]('UPDATING\x20TOKEN');const _0x264530=accountLists[_0x24d059(0xe4,'Uqd5')](this['acc']),_0xfea448=accountLists[_0x264530];if(_0xfea448){const _0x530683=await this['refreshToken']();_0xfea448[_0x24d059(0x12a,'oB6L')]=_0x530683['id_token'],_0xfea448[_0x24d059(0x105,'PmZS')]=_0x530683['refresh_token'],await a3_0x27877d['updateUserData'](_0xfea448['pk'],_0xfea448[_0x24d059(0x157,'8&gr')],_0xfea448['refreshToken']);}return _0xfea448;}}